// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id            String         @id @default(cuid())
  email         String         @unique
  name          String
  password      String
  createdAt     DateTime       @default(now()) @map("created_at")
  updatedAt     DateTime       @updatedAt @map("updated_at")
  heroes        Hero[]
  statistics    Statistic[]
  role          Role           @default(USER)
  impactMetrics ImpactMetric[]
}

model Hero {
  id                  String   @id @default(cuid())
  heading             String
  subTitle            String   @map("subtitle")
  primaryButtonText   String   @map("primary_button_text")
  secondaryButtonText String   @map("secondary_button_text")
  createdAt           DateTime @default(now()) @map("created_at")
  createdBy           User     @relation(fields: [createdById], references: [id])
  createdById         String   @map("created_by")
  updatedAt           DateTime @updatedAt @map("updated_at")
}

model Statistic {
  id          String   @id @default(cuid())
  label       String
  value       String
  createdBy   User     @relation(fields: [createdById], references: [id])
  createdById String   @map("created_by_id")
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")
}

model ImpactMetric {
  id          String   @id @default(cuid())
  label       String
  value       String
  createdBy   User     @relation(fields: [createdById], references: [id])
  createdById String   @map("created_by_id")
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")
}

model FocusAreas {
  id                      String                   @id @default(cuid())
  title                   String
  images                  String[]
  hashTag                 String
  description             String
  statsLabel              String                   @map("stats_label")
  statsValue              String                   @map("stats_value")
  keyVoices               KeyVoice[]
  supportingOrganizations SupportingOrganization[]
  createdAt               DateTime                 @default(now()) @map("created_at")
  updatedAt               DateTime                 @updatedAt @map("updated_at")
  inspiringStories        InspiringStories[]
}

model InspiringStories {
  id          String     @id @default(cuid())
  speaker     String
  story       String
  focusArea   FocusAreas @relation(fields: [focusAreaId], references: [id], onDelete: Cascade)
  focusAreaId String
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

model KeyVoice {
  id          String     @id @default(cuid())
  name        String
  description String
  followers   Int?
  focusArea   FocusAreas @relation(fields: [focusAreaId], references: [id], onDelete: Cascade)
  focusAreaId String
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

model SupportingOrganization {
  id          String     @id @default(cuid())
  name        String
  description String
  email       String
  website     String?
  focusArea   FocusAreas @relation(fields: [focusAreaId], references: [id], onDelete: Cascade)
  focusAreaId String
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

model About {
  id                 String       @id @default(cuid())
  description        String
  missionDescription String       @map("mission_description")
  visionDescription  String       @map("vision_description")
  teamMembers        TeamMember[]
  sponsors           Sponsor[]
  createdAt          DateTime     @default(now()) @map("created_at")
  updatedAt          DateTime     @updatedAt @map("updated_at")
}

model TeamMember {
  id             String   @id @default(cuid())
  name           String
  role           String
  description    String
  profilePicture String?  @map("profile_picture")
  about          About?   @relation(fields: [aboutId], references: [id], onDelete: SetNull)
  aboutId        String?  @map("about_id")
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")
}

model Sponsor {
  id          String   @id @default(cuid())
  name        String
  website     String?
  description String?
  about       About?   @relation(fields: [aboutId], references: [id], onDelete: SetNull)
  aboutId     String?  @map("about_id")
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")
}

model Preferences {
  id                String   @id @default(cuid())
  receiveNewsletter Boolean  @default(false)
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}

model ContactMessage {
  id        String   @id @default(cuid())
  name      String
  email     String
  subject   String
  message   String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Events {
  id          String   @id @default(cuid())
  title       String
  description String
  date        DateTime
  location    String
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")
}

model Testimonial {
  id        String   @id @default(cuid())
  speaker   String
  role      String
  statement String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
}

enum Role {
  USER
  ADMIN
  ADMIN_USER
}
